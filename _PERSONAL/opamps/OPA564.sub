* OPA564
*****************************************************************************
* (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer.
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: OPA564
* Date: 13JUN2011
* Model Type: ALL IN ONE
* Simulator: PSPICE
* Simulator Version: 16.0.0.p001
* EVM Order Number: N/A
* EVM Users Guide: N/A
* Datasheet: SBOS372E �OCTOBER 2008�REVISED JANUARY 2011
*
* Model Version: 1.0
*
*****************************************************************************
*
* Updates:
*
* Version 1.0 :
* Release to Web
*
*****************************************************************************
* BEGIN MODEL OPA564
* PINOUT ORDER +IN -IN +V -V OUT VDIG E/S ISET TFLG IFLG TSENS
* PINOUT ORDER  16  15 19 11  5   14   17  12   18   13    9
.SUBCKT OPA564 16 15 19 11 5 14 17 12 18 13 9
* BEGIN MODEL PROGRAMMING
* RESISTORS R144 AND R158 BELOW ARE THE THERMAL RESISTANCE
* IN DEGREES C PER WATT FROM CASE TO AMBIENT. THESE VALUES
* MAY BE CHANGED TO REPRESENT DIFFERENT HEAT SINKING OF THE
* CASE. FOR THE THERMAL RESISTANCE OF DIFFERENT HEAT SINKING
* SCENARIOS SEE THE DATA SHEET. BOTH VALUES MUST BE THE SAME.
R144 198 109 33
R158 200 109 33
*
* THE THREE COMPUTATION LINES BELOW HAVE DIFFERENT SYNTAX
* FOR PSPICE AND PSPICE DERIVED SIMULATORS AND FOR THE
* BERKELEY SPICE3 AND BERKELEY SPICE3 DERIVED SIMULATORS
* AND FOR THE HSPICE SIMULATOR. UN-COMMENT THE DESIRED
* GROUP OF STATEMENTS. ONLY ONE GROUP SHOULD BE ACTIVE.
*
* PSPICE SYNTAX
E53 105 0 VALUE={V(101)*V(102)}
E56 107 0 VALUE={V(103)*V(104)}
E83 219 218 VALUE={V(110)*V(111)}
* BERKELEY SYNTAX
*B53 105 0 V = V(101) * V(102)
*B56 107 0 V = V(103) * V(104)
*B83 219 218 V = V(110) * V(111)
* HSPICE SYNTAX
*E53 105 0 VOL='V(101)*V(102)'
*E56 107 0 VOL='V(103)*V(104)'
*E83 219 218 VOL='V(110)*V(111)'
*
* THE FOLLOWING CAPACITORS MIMIC THE THERMAL
* CAPACITANCE IN THE THERMAL PATH. YOU MAY
* ADJUST THE VALUES IF REQD TO CHANGE THE
* THERMAL TIME CONSTANTS TO MORE CLOSELY
* MATCH YOUR BENCH RESULTS BUT PROCEED WITH
* CAUTION.
C27 106 0 0.8E-4
C28 197 0 5.5E-4
C29 198 0 10E-4
C34 108 0 0.8E-4
C35 199 0 5.5E-4
C36 200 0 10E-4
*
* END MODEL PROGRAMMING
* BEGIN SIMULATION NOTES
* THIS IS A COMPLEX MODEL - EXPECT LONGER THAN
* USUAL CONVERGENCE AND SIMULATION TIMES
* INPUT BIAS CURRENT ACCURACY DEPENDS ON GMIN BEING
* SET AT THE DEFAULT VALUE OF 1E-12
* FOR AID IN DC CONVERGENCE SET ITL1 FROM 400 TO 4000
* AND IF REQ'D DO A .NODESET ON THE OPA564 OUTPUT NODE
* FOR AID IN TRANSIENT ANALYSIS SET ITL4 FROM 50 TO 500
* IN SOME CASES YOU MAY WANT TO PUT A SMALL DELAY ON
* YOUR INPUT GENERATOR TO PREVENT THE DC CONVERGENCE
* FROM INITIALLY CONVERGING INTO THERMAL SHUTDOWN
* IE CHIP TEMPERATURE GREATER THAN 160 DEGREES C
* TO EFFECTIVELY DISABLE THE THERMAL SHUTDOWN YOU
* MAY REPROGRAM R144 AND R158 ABOVE TO AN ARTIFICIALLY
* LOW VALUE SUCH AS 0.1 OHM
* BECAUSE SIMULATION TIMES FOR SIMULATION OF THERMAL
* SHUTDOWN ARE RELATIVELY LONG, IT IS IMPERATIVE TO
* KEEP CONTROL OF THE MAXIMUM TIMESTEP IN THE SPICE
* TRANSIENT ANALYSIS BY USING THE ANALYSIS OPTION
* TMAX. FOR EXAMPLE: .TRAN 5E-5 0.05 0 5E-5
* IF YOUR SIMULATOR SUPPORTS IT YOU MAY ALSO USE
* THE TRANSIENT ANALYSIS OPTION LVLTIM=1
*
* MODEL TEMPERATURE RANGE IS -55 C TO +125 C
* NOT ALL PARAMETERS TRACK THOSE OF THE REAL
* PART VS TEMPERATURE
*
* END SIMULATION NOTES
*
* BEGIN MODEL FEATURES
* OPEN LOOP GAIN AND PHASE W RL AND CL EFFECTS
* INCLUDING BANDWIDTH CHANGE VERSUS RL
* INPUT OFFSET VOLTAGE AND TEMPCO
* INPUT VOLTAGE NOISE WITH 1/F
* INPUT CURRENT NOISE
* INPUT BIAS CURRENT W TEMPERATURE EFFECTS
* AND COMMON MODE VOLTAGE EFFECTS
* INPUT OFFSET CURRENT W TEMPERATURE EFFECTS
* INPUT CAPACITANCE
* INPUT COMMON MODE VOLTAGE RANGE
* INPUT CLAMPS TO RAILS
* INPUT DIFFERENTIAL CLAMPS
* CMRR WITH FREQUENCY EFFECTS
* PSRR WITH FREQUENCY EFFECTS
* SLEW RATE
* OPEN LOOP OUTPUT IMPEDANCE VS FREQUENCY
* SETTLING TIME
* QUIESCENT CURRENT
* RAIL TO RAIL OUTPUT STAGE
* OUTPUT CURRENT THROUGH SUPPLIES
* OUTPUT CLAMPS TO THE RAILS
* OUTPUT CURRENT LIMIT PROGRAMMING
* CURRENT LIMIT FLAG
* OUTPUT SWING VS OUTPUT CURRENT
* ENABLE DISABLE FUNCTION
* ENABLE DISABLE DELAYS
* ENABLE INPUT CURRENT
* QUIESCENT CURRENT IN SHUTDOWN
* THERMAL SHUTDOWN
* THERMAL SHUTDOWN FLAG
* V DIGITAL SUPPLY PIN
* TEMPERATURE SENSING DIODE
* END MODEL FEATURES
*
Q20 112 113 114 QNL
R3 115 116 2
R4 117 116 2
R10 113 118 1E3
R11 119 120 1E3
R12 121 19 0.5E-3
R13 11 122 0.5E-3
R16 123 124 300
R17 125 126 0.5E-3
R18 114 127 0.5E-3
D5 5 19 DD
D6 11 5 DD
D7 128 0 DIN
D8 129 0 DIN
I8 0 128 0.1E-3
I9 0 129 0.1E-3
E2 114 0 11 0 1
E3 126 0 19 0 1
D9 130 0 DVN
D10 131 0 DVN
I10 0 130 0.1E-3
I11 0 131 0.1E-3
E4 132 15 130 131 4.5
G2 133 15 128 129 1.44E-4
R22 11 19 100E6
E5 134 0 126 135 1
E6 136 0 114 135 1
E7 137 0 138 0 1
R30 134 139 1E6
R31 136 140 1E6
R32 137 141 1E6
R33 0 139 100
R34 0 140 100
R35 0 141 100
E10 142 16 141 0 -0.5
R36 143 138 1E3
R37 138 144 1E3
C6 134 139 2E-8
C7 136 140 2E-8
C8 137 141 2E-11
E11 145 142 140 0 -0.33
E12 146 145 139 0 0.3
E14 135 114 126 114 0.5
D11 123 126 DD
D12 114 123 DD
M1 147 148 122 122 NOUT L=3U W=20000U
M2 149 150 121 121 POUT L=3U W=20000U
M3 151 151 125 125 POUT L=3U W=20000U
M4 152 153 115 115 PIN L=3U W=40U
M5 154 155 117 117 PIN L=3U W=40U
M8 156 156 127 127 NOUT L=3U W=20000U
R43 157 150 100
R44 158 148 100
G3 123 135 159 135 0.2E-3
R45 135 123 1E9
C12 124 160 3E-12
R46 114 152 3E3
R47 114 154 3E3
C13 152 154 0.1E-12
C14 133 0 4.5E-12
C15 132 0 4.5E-12
C16 5 0 120E-12
D13 148 112 DD
D14 161 150 DD
Q15 161 119 126 QPL
V18 133 162 -1.7E-3
M19 163 164 126 126 PIN L=6U W=500U
E17 144 0 133 0 1
E18 143 0 15 0 1
M23 164 164 126 126 PIN L=6U W=500U
V21 163 116 2.2
R59 5 149 10E-3
R60 147 5 10E-3
J1 165 133 165 JC
J2 165 132 165 JC
J3 132 166 132 JC
J4 133 166 133 JC
C21 133 132 3.1E-12
E20 167 135 154 152 1
R62 167 159 1E3
C23 159 135 3E-12
G7 168 135 123 135 -1E-3
G8 135 169 123 135 1E-3
G9 135 170 156 114 1E-3
G10 171 135 126 151 1E-3
D17 171 168 DD
D18 169 170 DD
R66 168 171 1E8
R67 170 169 1E8
R68 171 126 1E3
R69 114 170 1E3
E23 126 157 126 171 1
E24 158 114 170 114 1
R70 169 135 1E6
R71 170 135 1E6
R72 135 171 1E6
R73 135 168 1E6
G11 19 11 172 0 29.9E-3
I19 0 173 1E-3
D19 173 0 DD
V23 173 174 0.71
R74 0 174 1E6
R75 145 146 1E9
R76 142 145 1E9
R77 16 142 1E9
R78 15 132 1E9
R79 135 159 1E9
R81 157 126 1E9
R82 114 158 1E9
R83 138 0 1E9
V24 175 11 1.2
F1 126 176 V24 -1
F2 177 114 V24 -1
R87 178 176 201
R88 177 178 201
E25 178 0 5 0 1
G12 179 126 149 176 10
G13 114 180 177 147 10
D20 179 126 DD
D21 114 180 DD
G14 164 114 181 0 201E-6
G15 151 156 172 0 5E-3
E48 182 123 172 0 30
E49 183 135 172 0 -30
V49 184 183 15
V50 185 182 -15
R127 182 0 1E12
R128 183 0 1E12
M41 135 185 123 186 PSW L=1.5U W=150U
M42 123 184 135 187 NSW L=1.5U W=150U
R129 186 0 1E12
R130 187 0 1E12
M43 188 189 114 114 NEN L=3U W=300U
M44 190 188 114 114 NEN L=3U W=3000U
R131 188 191 1E4
R132 190 192 1E6
V51 192 114 1
M45 193 193 14 14 PEN L=6U W=60U
M46 17 193 14 14 PEN L=6U W=60U
I20 193 114 10E-6
C26 17 0 1E-12
E50 172 0 194 114 1
V52 190 194 1.111E-6
R133 114 194 1E12
V53 120 179 0
V54 180 118 0
F3 195 114 V53 1
F4 195 114 V54 1
R134 195 126 33E3
M47 196 195 126 126 PIN L=6U W=0.4U
M48 196 195 114 114 NIN L=3U W=0.75U
R135 0 196 84E3
E51 102 0 149 5 100
E52 101 0 121 149 1
R136 0 101 1E6
R137 0 102 1E6
R138 0 105 1E6
E54 104 0 5 147 100
E55 103 0 11 5 -1
R139 0 103 1E6
R140 0 104 1E6
R141 0 107 1E6
G16 106 0 105 0 -1
R142 106 197 0.15
R143 197 198 0.22
C32 191 188 50E-12
C33 192 190 2.8E-12
G17 108 0 107 0 -1
R156 108 199 0.15
R157 199 200 0.22
M57 201 202 126 126 PIN L=6U W=0.4U
M58 201 202 114 114 NIN L=3U W=0.2U
R166 0 203 84E3
R169 114 202 1E3
D24 204 202 DD
C37 202 114 3E-12
D29 205 202 DD
R184 202 201 1E12
I21 19 11 1.1E-3
I22 0 206 1E-3
D34 206 0 DD
V72 206 207 0.702
R185 0 207 1E6
E69 109 0 207 0 -560
R186 0 109 1E6
V74 126 165 -0.05
V75 166 114 -0.1
R195 0 172 1E9
R196 174 0 1E6
R197 11 175 1E9
R198 123 160 4E10
D35 208 209 DL
V143 209 0 3
R314 0 208 1E8
G52 15 0 208 0 7E-10
I65 15 0 10E-12
G53 133 0 208 0 8.7E-11
I66 133 0 10E-12
I67 0 210 1E-3
D36 210 0 DD
R315 0 210 10E6
V145 210 211 1.798
R316 0 211 20E6
E72 212 0 211 0 -0.875
R317 0 212 10E6
R318 181 212 10E6
M65 181 213 0 0 NEN L=2U W=1000U
V146 214 0 1
R319 214 213 1E6
M66 213 215 0 0 NEN L=2U W=100U
R320 0 211 20E6
E73 160 0 5 0 1
R321 162 153 20.5E3
R322 155 132 20.5E3
R325 12 175 5E3
M67 203 201 126 126 PIN L=6U W=0.4U
M68 203 201 114 114 NIN L=3U W=0.2U
R326 189 216 1E4
M69 189 217 114 114 NJN L=3U W=300U
E74 216 114 17 114 1
R327 217 203 1E4
C38 217 114 22E-12
D37 218 11 DT
R332 9 219 1
E81 220 221 219 9 400
V154 221 0 1.86
E82 110 0 220 0 -1E-3
R333 220 0 1E6
R334 0 110 1E6
E84 222 0 106 0 1
E85 223 0 108 0 1
R335 0 222 1E9
R336 223 0 1E9
R337 111 222 1E3
R338 223 111 1E3
R339 220 0 1E6
R340 0 110 1E6
R341 11 218 1E9
R342 11 218 1E9
R343 11 219 1E9
R344 11 9 1E9
E86 224 0 108 225 10
V155 225 0 160
E87 226 0 227 108 10
V156 227 0 140
V157 228 0 15
Q21 229 230 0 QNF
Q22 231 232 233 QPF
R345 229 232 1E4
R346 232 233 1E3
R347 230 231 1E4
R348 0 230 1E3
Q23 233 234 228 QPF
Q24 229 235 0 QNF
R349 234 226 1E5
R350 235 224 1E6
C39 233 232 5E-12
C40 230 0 5E-12
E88 236 0 106 237 10
V158 237 0 160
E89 238 0 239 106 10
V159 239 0 140
V160 240 0 15
Q25 241 242 0 QNF
Q26 243 244 245 QPF
R351 241 244 1E4
R352 244 245 1E3
R353 242 243 1E4
R354 0 242 1E3
Q27 245 246 240 QPF
Q28 241 247 0 QNF
R355 246 238 1E5
R356 247 236 1E6
C41 245 244 5E-12
C42 242 0 5E-12
E90 204 114 243 0 1
E91 205 114 231 0 1
M72 18 248 14 14 PIN L=6U W=15U
M73 18 248 114 114 NIN L=3U W=15U
M74 13 195 14 14 PIN L=6U W=1.5U
M75 13 195 114 114 NIN L=3U W=0.2U
E93 249 0 126 114 1
V164 250 249 10
R358 0 249 1E9
R359 0 250 1E9
E94 201 248 250 0 0.118
R360 0 201 1E9
R361 0 248 1E9
G55 126 132 126 132 -1.5E-12
G56 132 114 132 114 -1.51E-12
G57 126 133 126 133 -1.5E-12
G58 133 114 133 114 -1.51E-12
V165 191 114 3.3
E95 215 172 251 0 -0.6
V166 212 251 1
R362 0 215 1E12
R363 0 215 1E12
R364 0 251 1E12
E97 133 146 174 0 5.627E-3
R365 146 133 1E9
R366 252 132 1.6E3
R367 133 253 1.6E3
J5 253 252 253 JC
J6 252 253 252 JC
R368 114 18 1E9
R369 114 13 1E9
R370 0 239 1E9
R371 0 239 1E9
R372 0 237 1E9
R373 0 237 1E9
R374 0 238 1E9
R375 0 236 1E9
R376 0 227 1E9
R377 0 227 1E9
R378 0 225 1E9
R379 0 225 1E9
R380 0 226 1E9
R381 0 224 1E9
R382 11 12 1E12
.MODEL DT D IS=3.3E-16 N=1.008 EG=1.11 XTI=3
.MODEL DD D
.MODEL DVN D KF=3E-14 IS=1E-16
.MODEL DIN D
.MODEL DL D IS=2E-11 N=1.397 XTI=1.5
.MODEL JC NJF
.MODEL QNL NPN
.MODEL QPL PNP
.MODEL QNF NPN
.MODEL QPF PNP
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL NJN NMOS KP=200U VTO=2 IS=1E-18
.MODEL PIN PMOS KP=200U VTO=-0.7 IS=1E-18
.MODEL NIN NMOS KP=200U VTO=0.7 IS=1E-18
.MODEL NEN NMOS KP=200U VTO=0.5 IS=1E-18
.MODEL PEN PMOS KP=200U VTO=-0.7 IS=1E-18
.MODEL PSW PMOS KP=200U VTO=-7.5 IS=1E-18
.MODEL NSW NMOS KP=200U VTO=7.5 IS=1E-18
.ENDS
* END MODEL OPA564

.subckt Zener 1 2
D1 2 1 D_1N4753_1
.MODEL D_1N4753_1 D( IS=15N N=2.22 BV=36 IBV=7M RS=169M
+      CJO=4P VJ=750M M=330M FC=500M TT=100N
+      EG=1.11 XTI=3 KF=0 AF=1 )
.ends

.subckt CAPACITOR 3 4 PARAMS: C=47u
C1 3 4 C_CAP_1 {C}
.MODEL C_CAP_1 CAP ( TC1= 1.13132933557117E-0293 TC2= 1.13132933557117E-0293 T_REL_GLOBAL= 1.13132933557117E-0293)
.ends
